<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>GMT | CONTROL DE HORAS</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap');
        body { font-family: 'Inter', sans-serif; background-color: #f1f5f9; }
        .bg-main { background: #0f172a; }
        #login-screen { background: #0f172a; display: flex; align-items: center; justify-content: center; position: fixed; inset: 0; z-index: 100; }
    </style>
</head>
<body>

    <nav style="background: #0f172a; padding: 12px; display: flex; justify-content: center; gap: 15px; border-bottom: 3px solid #1e293b;">
        <a href="index.html" style="text-decoration: none; font-size: 11px; font-weight: 900; padding: 10px 20px; border-radius: 8px; background: #334155; color: white;">ðŸ“Š DASHBOARD HORAS</a>
        <a href="ventas.html" style="text-decoration: none; font-size: 11px; font-weight: 900; padding: 10px 20px; border-radius: 8px; background: #1e293b; color: #94a3b8;">ðŸ’° DASHBOARD VENTAS</a>
    </nav>

    <div id="login-screen">
        <div class="bg-white p-8 rounded-3xl shadow-2xl w-full max-w-md text-center">
            <h2 class="text-2xl font-black text-slate-800 mb-6 uppercase italic">Acceso DirecciÃ³n</h2>
            <div class="space-y-4">
                <input type="password" id="pass" placeholder="ContraseÃ±a de DirecciÃ³n" class="text-center w-full p-4 rounded-xl border border-slate-200 outline-none focus:ring-2 focus:ring-blue-500">
                <button onclick="checkLogin()" class="w-full bg-blue-600 text-white font-black py-4 rounded-xl hover:bg-blue-700">INGRESAR</button>
                <p id="login-err" class="text-red-500 text-xs font-bold hidden">ContraseÃ±a incorrecta</p>
            </div>
        </div>
    </div>

    <div id="dashboard-content" class="hidden p-8 max-w-7xl mx-auto">
        <h1 class="text-4xl font-black text-slate-800 mb-8 uppercase italic text-center">Control de Horas Acumulado</h1>
        <div id="data-container" class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div class="bg-white p-6 rounded-2xl shadow-sm border border-slate-200">
                <h3 class="font-bold text-blue-600 mb-2 uppercase italic">Estado Archivo 01</h3>
                <p id="status-01" class="text-slate-500 font-bold">Cargando...</p>
            </div>
            <div class="bg-white p-6 rounded-2xl shadow-sm border border-slate-200">
                <h3 class="font-bold text-blue-600 mb-2 uppercase italic">Estado Archivo 02</h3>
                <p id="status-02" class="text-slate-500 font-bold">Cargando...</p>
            </div>
        </div>
    </div>

    <script>
        const PASS_AUTH = "Gmt@2026*";

        function checkLogin() {
            const p = document.getElementById('pass').value;
            if(p === PASS_AUTH) {
                document.getElementById('login-screen').classList.add('hidden');
                document.getElementById('dashboard-content').classList.remove('hidden');
                loadAllData();
            } else {
                document.getElementById('login-err').classList.remove('hidden');
            }
        }

        async function loadAllData() {
            // Intenta cargar ambos archivos de datos acumulados
            await fetchFile('data_01.csv', 'status-01');
            await fetchFile('data_02.csv', 'status-02');
        }

        async function fetchFile(fileName, elementId) {
            try {
                const response = await fetch(fileName);
                if (!response.ok) throw new Error("No encontrado");
                const text = await response.text();
                const lines = text.split('\n').length - 1;
                document.getElementById(elementId).innerText = "Registros cargados: " + lines;
                document.getElementById(elementId).classList.replace('text-slate-500', 'text-emerald-600');
            } catch (err) {
                document.getElementById(elementId).innerText = "Error: AsegÃºrate de que el archivo " + fileName + " estÃ© en GitHub.";
                document.getElementById(elementId).classList.replace('text-slate-500', 'text-red-500');
            }
        }
    </script>
</body>
</html>
